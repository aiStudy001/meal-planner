# AI ë§ì¶¤ ì‹ë‹¨ í”Œë˜ë„ˆ - ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

> Docker Composeë¡œ 5ë¶„ ì•ˆì— ì „ì²´ ìŠ¤íƒ ì‹¤í–‰í•˜ê¸°

## ğŸ“‹ í•„ìˆ˜ ì‚¬í•­

### ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­
- **Docker Desktop**: 28.0 ì´ìƒ
- **Docker Compose**: v2.30 ì´ìƒ
- **ìš´ì˜ì²´ì œ**: Windows 10/11, macOS 10.15+, Ubuntu 20.04+
- **ë©”ëª¨ë¦¬**: ìµœì†Œ 4GB RAM (ê¶Œì¥ 8GB)

### API í‚¤ ì¤€ë¹„
ë‹¤ìŒ ë‘ ê°€ì§€ API í‚¤ê°€ í•„ìš”í•©ë‹ˆë‹¤:

1. **Anthropic API Key** (Claude 3.5 Haiku)
   - ê°€ì…: https://console.anthropic.com/
   - API í‚¤ ë°œê¸‰: Settings â†’ API Keys
   - í˜•ì‹: `sk-ant-xxxxx...`

2. **Tavily API Key** (ë ˆì‹œí”¼ ê²€ìƒ‰)
   - ê°€ì…: https://tavily.com/
   - API í‚¤ ë°œê¸‰: Dashboard â†’ API Keys
   - í˜•ì‹: `tvly-xxxxx...`

---

## âš¡ ë¹ ë¥¸ ì‹œì‘ (5ë¶„)

### 1ë‹¨ê³„: í”„ë¡œì íŠ¸ í´ë¡  (30ì´ˆ)

```bash
git clone https://github.com/aiStudy001/meal-planner.git
cd meal-planner
```

### 2ë‹¨ê³„: í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (1ë¶„)

```bash
# .env.exampleì„ .envë¡œ ë³µì‚¬
cp .env.example .env

# Windows PowerShell:
# copy .env.example .env
```

`.env` íŒŒì¼ì„ í¸ì§‘í•˜ì—¬ API í‚¤ë¥¼ ì…ë ¥í•˜ì„¸ìš”:

```bash
# Anthropic API (í•„ìˆ˜)
ANTHROPIC_API_KEY=sk-ant-xxxxx...

# Tavily API (í•„ìˆ˜)
TAVILY_API_KEY=tvly-xxxxx...

# CORS ì„¤ì • (ê¸°ë³¸ê°’ ì‚¬ìš©)
CORS_ORIGINS=http://localhost:80,http://frontend

# ë””ë²„ê·¸ ëª¨ë“œ (ì„ íƒ)
DEBUG=false
LOG_LEVEL=INFO
```

**ì¤‘ìš”**:
- API í‚¤ëŠ” ì‹¤ì œ ê°’ìœ¼ë¡œ êµì²´í•´ì•¼ í•©ë‹ˆë‹¤
- `MOCK_MODE=true`ë¡œ ì„¤ì •í•˜ë©´ API ì—†ì´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤ (ì‹¤ì œ ì‹ë‹¨ ìƒì„± ë¶ˆê°€)

### 3ë‹¨ê³„: Docker ì»¨í…Œì´ë„ˆ ì‹œì‘ (3ë¶„)

```bash
# Docker ì´ë¯¸ì§€ ë¹Œë“œ ë° ì»¨í…Œì´ë„ˆ ì‹œì‘
docker-compose up -d

# ë¹Œë“œ ì§„í–‰ ìƒí™© í™•ì¸ (ì„ íƒ)
docker-compose logs -f
```

**ì˜ˆìƒ ì†Œìš” ì‹œê°„**:
- ì²« ë¹Œë“œ: 5-7ë¶„ (ì˜ì¡´ì„± ë‹¤ìš´ë¡œë“œ)
- ì´í›„ ë¹Œë“œ: 1-2ë¶„ (ìºì‹œ ì‚¬ìš©)

### 4ë‹¨ê³„: í—¬ìŠ¤ ì²´í¬ (30ì´ˆ)

ì»¨í…Œì´ë„ˆê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ì§€ í™•ì¸:

```bash
# ë°±ì—”ë“œ í—¬ìŠ¤ ì²´í¬
curl http://localhost:8000/api/health

# ì˜ˆìƒ ì‘ë‹µ: {"status": "healthy"}
```

```bash
# í”„ë¡ íŠ¸ì—”ë“œ ì ‘ì† í™•ì¸
curl http://localhost:80

# ì˜ˆìƒ ì‘ë‹µ: HTML ì½˜í…ì¸  (<!DOCTYPE html>...)
```

### 5ë‹¨ê³„: ë¸Œë¼ìš°ì € ì ‘ì† (ì¦‰ì‹œ)

ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì—´ê³  ë‹¤ìŒ ì£¼ì†Œë¡œ ì´ë™:

```
http://localhost:80
```

**ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰** AI ë§ì¶¤ ì‹ë‹¨ í”Œë˜ë„ˆê°€ ì‹¤í–‰ë˜ì—ˆìŠµë‹ˆë‹¤.

---

## ğŸ¯ ì²« ì‹ë‹¨ ìƒì„±í•˜ê¸°

### ë°©ë²• 1: ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ (ì¶”ì²œ)

1. í™ˆ í™”ë©´ì—ì„œ **ì‹œë‚˜ë¦¬ì˜¤ ì„ íƒ ë“œë¡­ë‹¤ìš´** í´ë¦­
2. 4ê°€ì§€ ì‹œë‚˜ë¦¬ì˜¤ ì¤‘ í•˜ë‚˜ ì„ íƒ:
   - âœ… **ì²´ì¤‘ ê°ëŸ‰ ë‚¨ì„±** - ê³ ë‹¨ë°± ì €ì¹¼ë¡œë¦¬ ì‹ë‹¨
   - âœ… **ì²´ì¤‘ ì¦ê°€ ì—¬ì„±** - ê· í˜• ì¡íŒ ì˜ì–‘ì†Œë¡œ ê±´ê°•í•œ ì²´ì¤‘ ì¦ê°€
   - âœ… **ë‹¤ì¤‘ ì•Œë ˆë¥´ê¸°** - ê²¬ê³¼ë¥˜, í•´ì‚°ë¬¼, ìœ ì œí’ˆ ì œì™¸
   - âœ… **ê±´ê°• ì œì•½ (ë‹¹ë‡¨+ê³ í˜ˆì••)** - ì €ì—¼, ì €ë‹¹, í˜ˆë‹¹ ì¡°ì ˆ
3. "ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ í´ë¦­ â†’ ìë™ìœ¼ë¡œ ì…ë ¥ í˜ì´ì§€ ì´ë™
4. "ì‹ë‹¨ ìƒì„±í•˜ê¸°" ë²„íŠ¼ í´ë¦­
5. ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© í™•ì¸ (ì•½ 40-60ì´ˆ ì†Œìš”)

### ë°©ë²• 2: ì§ì ‘ ì…ë ¥

1. í™ˆ í™”ë©´ì—ì„œ "ì§ì ‘ ì…ë ¥í•˜ê¸°" ë²„íŠ¼ í´ë¦­
2. 4ë‹¨ê³„ ì…ë ¥ í¼ ì‘ì„±:
   - **Step 1**: ì„±ë³„, ë‚˜ì´, í‚¤, ëª¸ë¬´ê²Œ
   - **Step 2**: ëª©í‘œ, í™œë™ëŸ‰, ì•Œë ˆë¥´ê¸°, ì§ˆë³‘
   - **Step 3**: ë¼ë‹ˆ ìˆ˜, ì¼ìˆ˜, ì¡°ë¦¬ ì‹œê°„, ë‚œì´ë„
   - **Step 4**: ì˜ˆì‚° íƒ€ì…, ê¸ˆì•¡, ë°°ë¶„ ë°©ì‹
3. "ì‹ë‹¨ ìƒì„±í•˜ê¸°" ë²„íŠ¼ í´ë¦­

### ì‹¤ì‹œê°„ ì§„í–‰ ìƒí™© í™•ì¸

ì‹ë‹¨ ìƒì„± ì¤‘ ë‹¤ìŒ ì •ë³´ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤:

- ğŸ“Š **ì§„í–‰ë¥  ë°”** (0-100%)
- ğŸ¤– **ì—ì´ì „íŠ¸ ìƒíƒœ** (ì˜ì–‘ì‚¬, ìš”ë¦¬ì‚¬, ì˜ˆì‚° ê´€ë¦¬ì)
- âœ… **ê²€ì¦ ìƒíƒœ** (ì˜ì–‘, ì•Œë ˆë¥´ê¸°, ì‹œê°„, ê±´ê°•, ì˜ˆì‚°)
- ğŸ”„ **ì¬ì‹œë„ íšŸìˆ˜** (ìµœëŒ€ 5íšŒ)
- ğŸ“ **ì™„ë£Œëœ ì‹ë‹¨ ëª©ë¡** (1ì¼ì°¨ ì•„ì¹¨, ì ì‹¬, ì €ë…...)

### ê²°ê³¼ í™•ì¸ ë° ë‚´ë³´ë‚´ê¸°

ì‹ë‹¨ ìƒì„±ì´ ì™„ë£Œë˜ë©´:

1. **ğŸ“„ PDF** - ì‹ë‹¨í‘œë¥¼ PDFë¡œ ë‹¤ìš´ë¡œë“œ
2. **ğŸ’¾ JSON** - ì „ì²´ ë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ
3. **ğŸ›’ ì¥ë³´ê¸° ë¦¬ìŠ¤íŠ¸** - í•„ìš”í•œ ì¬ë£Œ ëª©ë¡ í™•ì¸
4. **ìƒˆ ì‹ë‹¨** - ìƒˆë¡œìš´ í”„ë¡œí•„ë¡œ ë‹¤ì‹œ ìƒì„±

---

## ğŸ³ Docker ê´€ë¦¬

### ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸

```bash
# ì‹¤í–‰ ì¤‘ì¸ ì»¨í…Œì´ë„ˆ í™•ì¸
docker-compose ps

# ì˜ˆìƒ ì¶œë ¥:
# NAME                  STATUS          PORTS
# meal-planner-backend  Up 2 minutes    0.0.0.0:8000->8000/tcp
# meal-planner-frontend Up 2 minutes    0.0.0.0:80->80/tcp
```

### ë¡œê·¸ í™•ì¸

```bash
# ì „ì²´ ë¡œê·¸ í™•ì¸
docker-compose logs -f

# ë°±ì—”ë“œ ë¡œê·¸ë§Œ í™•ì¸
docker-compose logs -f backend

# í”„ë¡ íŠ¸ì—”ë“œ ë¡œê·¸ë§Œ í™•ì¸
docker-compose logs -f frontend

# ìµœê·¼ 100ì¤„ë§Œ í™•ì¸
docker-compose logs --tail=100
```

### ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘

```bash
# ì „ì²´ ì¬ì‹œì‘
docker-compose restart

# ë°±ì—”ë“œë§Œ ì¬ì‹œì‘
docker-compose restart backend

# í”„ë¡ íŠ¸ì—”ë“œë§Œ ì¬ì‹œì‘
docker-compose restart frontend
```

### ì»¨í…Œì´ë„ˆ ì •ì§€ ë° ì‚­ì œ

```bash
# ì»¨í…Œì´ë„ˆ ì •ì§€ (ë°ì´í„° ë³´ì¡´)
docker-compose stop

# ì»¨í…Œì´ë„ˆ ì •ì§€ ë° ì‚­ì œ (ë°ì´í„° ë³´ì¡´)
docker-compose down

# ì»¨í…Œì´ë„ˆ + ì´ë¯¸ì§€ + ë³¼ë¥¨ ëª¨ë‘ ì‚­ì œ
docker-compose down --rmi all -v
```

### ì´ë¯¸ì§€ ì¬ë¹Œë“œ

ì½”ë“œ ë³€ê²½ í›„ ì¬ë¹Œë“œê°€ í•„ìš”í•œ ê²½ìš°:

```bash
# ìºì‹œ ì—†ì´ í´ë¦° ë¹Œë“œ
docker-compose build --no-cache

# ë°±ì—”ë“œë§Œ ì¬ë¹Œë“œ
docker-compose build --no-cache backend

# í”„ë¡ íŠ¸ì—”ë“œë§Œ ì¬ë¹Œë“œ
docker-compose build --no-cache frontend

# ì¬ë¹Œë“œ í›„ ì‹¤í–‰
docker-compose up -d --build
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### 1. í¬íŠ¸ ì¶©ëŒ ì˜¤ë¥˜

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
Error starting userland proxy: listen tcp 0.0.0.0:8000: bind: address already in use
```

**í•´ê²° ë°©ë²•**:

```bash
# Windows
netstat -ano | findstr :8000
taskkill /PID <PID> /F

# macOS/Linux
lsof -i :8000
kill -9 <PID>

# ë˜ëŠ” ë‹¤ë¥¸ í¬íŠ¸ ì‚¬ìš© (docker-compose.yml ìˆ˜ì •)
ports:
  - "8001:8000"  # 8001ë¡œ ë³€ê²½
```

### 2. Docker Desktop ë¯¸ì‹¤í–‰

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
Cannot connect to the Docker daemon
```

**í•´ê²° ë°©ë²•**:
1. Docker Desktop ì‹¤í–‰
2. 30ì´ˆ ëŒ€ê¸° (ì´ˆê¸°í™” ì‹œê°„)
3. `docker-compose up -d` ì¬ì‹œë„

### 3. API í‚¤ ì˜¤ë¥˜

**ì—ëŸ¬ ë©”ì‹œì§€** (ë°±ì—”ë“œ ë¡œê·¸):
```
AuthenticationError: Invalid API key
```

**í•´ê²° ë°©ë²•**:
1. `.env` íŒŒì¼ì˜ API í‚¤ í™•ì¸
2. API í‚¤ í˜•ì‹ í™•ì¸ (`sk-ant-...`, `tvly-...`)
3. API í‚¤ ìœ íš¨ì„± í™•ì¸ (ì½˜ì†”ì—ì„œ í™•ì¸)
4. ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘: `docker-compose restart backend`

### 4. CORS ì˜¤ë¥˜

**ì—ëŸ¬ ë©”ì‹œì§€** (ë¸Œë¼ìš°ì € ì½˜ì†”):
```
Access to fetch at 'http://localhost:8000' has been blocked by CORS policy
```

**í•´ê²° ë°©ë²•**:
1. `.env` íŒŒì¼ì˜ `CORS_ORIGINS` í™•ì¸
2. `http://localhost:80` í¬í•¨ ì—¬ë¶€ í™•ì¸
3. ë°±ì—”ë“œ ì¬ì‹œì‘: `docker-compose restart backend`

### 5. ë¹Œë“œ ì‹¤íŒ¨ (TypeScript ì˜¤ë¥˜)

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
error TS2339: Property 'xxx' does not exist
```

**í•´ê²° ë°©ë²•**:
1. í”„ë¡ íŠ¸ì—”ë“œ ë””ë ‰í† ë¦¬ë¡œ ì´ë™: `cd meal-planner-front`
2. ë¡œì»¬ì—ì„œ íƒ€ì… ì²´í¬: `npm run type-check`
3. ì˜¤ë¥˜ ìˆ˜ì • í›„ ì¬ë¹Œë“œ: `docker-compose build frontend`

### 6. ë©”ëª¨ë¦¬ ë¶€ì¡±

**ì—ëŸ¬ ë©”ì‹œì§€**:
```
Killed (out of memory)
```

**í•´ê²° ë°©ë²•**:
1. Docker Desktop ì„¤ì • â†’ Resources â†’ Memory
2. ë©”ëª¨ë¦¬ í• ë‹¹ 8GB ì´ìƒìœ¼ë¡œ ì¦ê°€
3. `docker-compose down && docker-compose up -d`

---

## ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸

### ë°±ì—”ë“œ API (http://localhost:8000)

| ì—”ë“œí¬ì¸íŠ¸ | ë©”ì„œë“œ | ì„¤ëª… |
|---------|------|-----|
| `/api/health` | GET | í—¬ìŠ¤ ì²´í¬ |
| `/api/generate` | POST | ì‹ë‹¨ ìƒì„± (SSE ìŠ¤íŠ¸ë¦¬ë°) |
| `/docs` | GET | Swagger API ë¬¸ì„œ |
| `/redoc` | GET | ReDoc API ë¬¸ì„œ |

### SSE ì´ë²¤íŠ¸ êµ¬ì¡°

```typescript
// ì§„í–‰ ìƒí™© ì´ë²¤íŠ¸
{
  "type": "progress",
  "node": "nutritionist",
  "status": "completed",
  "data": {
    "day": 1,
    "meal": "ì•„ì¹¨",
    "total_meals": 9,
    "completed_meals": 1
  }
}

// ê²€ì¦ ì´ë²¤íŠ¸
{
  "type": "validation",
  "node": "nutrition_checker",
  "status": "completed",
  "data": {
    "passed": true,
    "reason": "ì˜ì–‘ ê¸°ì¤€ ì¶©ì¡±"
  }
}

// ë¼ë‹ˆ ì™„ë£Œ ì´ë²¤íŠ¸
{
  "type": "meal_complete",
  "data": {
    "day": 1,
    "meal_type": "ì•„ì¹¨",
    "menu": "ê¹€ì¹˜ì°Œê°œ",
    "calories": 650,
    "cost": 8000
  }
}

// ì™„ë£Œ ì´ë²¤íŠ¸
{
  "type": "complete",
  "data": {
    "meal_plan": [/* ì£¼ê°„ ì‹ë‹¨ ë°ì´í„° */]
  }
}
```

---

## ğŸ“š ì¶”ê°€ ë¦¬ì†ŒìŠ¤

### ìƒì„¸ ë¬¸ì„œ
- ğŸ“˜ [ë°±ì—”ë“œ ìƒì„¸ ë¬¸ì„œ](./meal-planner-back/README.md) - Multi-Agent ì‹œìŠ¤í…œ, LangGraph
- ğŸ“— [í”„ë¡ íŠ¸ì—”ë“œ ìƒì„¸ ë¬¸ì„œ](./meal-planner-front/README.md) - Vue 3, SSE ì²˜ë¦¬
- ğŸ“™ [ê°œì„  ê³„íš](./IMPROVEMENT_PLAN.md) - ê°œë°œ ì§„í–‰ ìƒí™©

### ê°œë°œ ê°€ì´ë“œ
- [mise ê¸°ë°˜ ê°œë°œ í™˜ê²½](./README.md#mise-ê¸°ë°˜-í†µí•©-ê°œë°œ-í™˜ê²½-ê°œë°œìš©)
- [ë¡œì»¬ ê°œë°œ ê°€ì´ë“œ](./README.md#ë¡œì»¬-ê°œë°œ)
- [í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ](./README.md#-í…ŒìŠ¤íŠ¸)

### ì™¸ë¶€ ë¦¬ì†ŒìŠ¤
- [Docker ê³µì‹ ë¬¸ì„œ](https://docs.docker.com/)
- [Docker Compose ë¬¸ì„œ](https://docs.docker.com/compose/)
- [Anthropic API ë¬¸ì„œ](https://docs.anthropic.com/)
- [Tavily API ë¬¸ì„œ](https://docs.tavily.com/)

---

## â“ ìì£¼ ë¬»ëŠ” ì§ˆë¬¸

### Q1: API í‚¤ ì—†ì´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆë‚˜ìš”?

ë„¤, `.env` íŒŒì¼ì— `MOCK_MODE=true`ë¥¼ ì„¤ì •í•˜ë©´ API ì—†ì´ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì‹¤ì œ ì‹ë‹¨ ìƒì„±ì€ ë¶ˆê°€ëŠ¥í•˜ë©°, ë”ë¯¸ ë°ì´í„°ë§Œ ë°˜í™˜ë©ë‹ˆë‹¤.

### Q2: Docker ì—†ì´ ì‹¤í–‰í•  ìˆ˜ ìˆë‚˜ìš”?

ë„¤, [README.mdì˜ ìˆ˜ë™ ì„¤ì •](./README.md#ìˆ˜ë™-ì„¤ì •) ë˜ëŠ” [mise ê¸°ë°˜ ê°œë°œ í™˜ê²½](./README.md#mise-ê¸°ë°˜-í†µí•©-ê°œë°œ-í™˜ê²½-ê°œë°œìš©)ì„ ì°¸ê³ í•˜ì„¸ìš”.

### Q3: ìƒì„±ëœ ì‹ë‹¨ ë°ì´í„°ëŠ” ì–´ë””ì— ì €ì¥ë˜ë‚˜ìš”?

í˜„ì¬ëŠ” ë¸Œë¼ìš°ì € ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤. PDF/JSONìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°í•˜ì—¬ ë¡œì»¬ì— ì €ì¥í•˜ì„¸ìš”. í–¥í›„ ë²„ì „ì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ì´ ì¶”ê°€ë  ì˜ˆì •ì…ë‹ˆë‹¤.

### Q4: ì‹ë‹¨ ìƒì„±ì´ ë„ˆë¬´ ëŠë¦° ê²ƒ ê°™ì•„ìš”

ì‹ë‹¨ ìƒì„±ì€ ì•½ 40-60ì´ˆ ì†Œìš”ë©ë‹ˆë‹¤ (9ë¼ë‹ˆ ê¸°ì¤€). Claude 3.5 Haiku API í˜¸ì¶œê³¼ ê²€ì¦ ê³¼ì •ì´ í¬í•¨ë©ë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ ìƒíƒœì— ë”°ë¼ ì‹œê°„ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Q5: í•œê¸€ì´ ê¹¨ì ¸ ë³´ì—¬ìš”

Docker í™˜ê²½ì—ì„œëŠ” UTF-8 ì¸ì½”ë”©ì´ ìë™ìœ¼ë¡œ ì„¤ì •ë©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ì˜ ì¸ì½”ë”© ì„¤ì •ì„ UTF-8ë¡œ ë³€ê²½í•˜ì„¸ìš”.

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2026-01-11
**ë²„ì „**: 1.0.0
**ë¬¸ì˜**: https://github.com/aiStudy001/meal-planner/issues
